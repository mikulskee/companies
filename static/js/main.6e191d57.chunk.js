(this.webpackJsonpcompanies=this.webpackJsonpcompanies||[]).push([[0],{24:function(e,n,t){e.exports=t(36)},29:function(e,n,t){},36:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(19),l=t.n(c),i=(t(29),t(5)),o=t(6),s=t(15),u=t(23),d=t(8),m=t.n(d),p=t(12),f=t(4),h=Object(a.createContext)(),g=function(e){var n=Object(a.useState)([]),t=Object(f.a)(n,2),c=t[0],l=t[1],i=Object(a.useState)([]),o=Object(f.a)(i,2),d=o[0],g=o[1],v=Object(a.useState)([]),b=Object(f.a)(v,2),E=b[0],x=b[1],w=Object(a.useState)([]),y=Object(f.a)(w,2),j=y[0],k=y[1],O=Object(a.useState)([]),C=Object(f.a)(O,2),S=C[0],N=C[1],A=Object(a.useState)(""),D=Object(f.a)(A,2),F=D[0],L=D[1],M=function(){var e=Object(p.a)(m.a.mark((function e(){var n,t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://recruitment.hal.skygate.io/companies");case 3:return n=e.sent,e.next=6,n.json();case 6:return t=e.sent,e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(m.a.mark((function e(n){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://recruitment.hal.skygate.io/incomes/").concat(n.id));case 3:return t=e.sent,a=t.json(),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){M().then((function(e){l(e);var n=e.map((function(e){return I(e)}));Promise.all(n).then((function(e){return g(e)}))}))}),[]),Object(a.useEffect)((function(){if(d.length){var e=d.map((function(e){return{id:e.id,totalIncome:e.incomes.map((function(e){return parseFloat(e.value)})).reduce((function(e,n){return e+n}),0).toFixed(2),average:(e.incomes.map((function(e){return parseFloat(e.value)})).reduce((function(e,n){return e+n}),0)/e.incomes.length).toFixed(2),lastMonth:e.incomes.map((function(e){return{value:e.value,date:Date.parse(e.date)}})).sort((function(e,n){return n.date-e.date})).map((function(e){return{value:e.value,date:"".concat(new Date(e.date).getMonth()," ").concat(new Date(e.date).getFullYear())}}))}})).map((function(e){var n;n=e.lastMonth[0].date;var t=e.lastMonth.filter((function(e){return e.date===n}));return Object(u.a)({},e,{lastMonth:t.map((function(e){return e.value})).reduce((function(e,n){return parseFloat(e)+parseFloat(n)}),0).toFixed(2)})}));x(e)}}),[d]),Object(a.useEffect)((function(){if(E.length>0){var e=new Map;c.concat(E).forEach((function(n){e.set(n.id,Object.assign(e.get(n.id)||{},n))}));var n=Array.from(e.values());k(n)}}),[E,c]);return r.a.createElement(h.Provider,{value:{mergedData:j,sortMergedData:function(e){var n,t=[];switch(S.length?(t=Object(s.a)(S),n=function(e){N(e)}):(t=Object(s.a)(j),n=function(e){k(e)}),e){case"ID_ASC":t.sort((function(e,n){return e.id-n.id})),n(t);break;case"ID_DESC":t.sort((function(e,n){return n.id-e.id})),n(t);break;case"NAME_ASC":t.sort((function(e,n){return e.name.localeCompare(n.name)})),n(t);break;case"NAME_DESC":t.sort((function(e,n){return n.name.localeCompare(e.name)})),n(t);break;case"CITY_ASC":t.sort((function(e,n){return e.city.localeCompare(n.city)})),n(t);break;case"CITY_DESC":t.sort((function(e,n){return n.city.localeCompare(e.city)})),n(t);break;case"TOTAL_ASC":t.sort((function(e,n){return parseFloat(e.totalIncome)-parseFloat(n.totalIncome)})),n(t);break;case"TOTAL_DESC":t.sort((function(e,n){return parseFloat(n.totalIncome)-parseFloat(e.totalIncome)})),n(t);break;case"AVERAGE_ASC":t.sort((function(e,n){return parseFloat(e.average)-parseFloat(n.average)})),n(t);break;case"AVERAGE_DESC":t.sort((function(e,n){return parseFloat(n.average)-parseFloat(e.average)})),n(t);break;case"LAST_ASC":t.sort((function(e,n){return parseFloat(e.lastMonth)-parseFloat(n.lastMonth)})),n(t);break;case"LAST_DESC":t.sort((function(e,n){return parseFloat(n.lastMonth)-parseFloat(e.lastMonth)})),n(t);break;default:return}},displayDataViaSerchedPhrase:function(e){if(L(e),e.length){var n=j.filter((function(n){return Object.keys(n).some((function(t){return-1!==n[t].toString().toLowerCase().indexOf(e.toLowerCase())}))}));N(n)}else N([])},searchedData:S,inputValue:F}},e.children)},v=t(2),b=t(3);function E(){var e=Object(i.a)(["\n  margin: 20px 0;\n  ul {\n    list-style: none;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    width: 80%;\n    margin: 0 auto;\n    li {\n      margin: 0px 2px;\n      @media only screen and (min-width: 1024px) {\n        margin: 0 5px;\n      }\n      button {\n        cursor: pointer;\n        width: 35px;\n        height: 35px;\n        border-radius: 50%;\n        color: black;\n        border: none;\n        background: none;\n        transition: all 0.15s linear;\n\n        @media only screen and (min-width: 1024px) {\n          width: 45px;\n          height: 45px;\n          font-size: 18px;\n        }\n        &:hover {\n          background-color: #a2a2a2;\n        }\n        &.active {\n          background-color: #d2d2d2;\n          color: white;\n          &:hover {\n            background-color: #929292;\n          }\n        }\n\n        &.switch {\n          font-weight: bold;\n          background-color: #a2a2a2;\n        }\n      }\n    }\n  }\n"]);return E=function(){return e},e}var x=o.a.nav(E()),w=function(e){for(var n=e.companiesPerPage,t=e.totalPosts,c=e.paginate,l=e.currentPage,i=e.setCurrentPage,o=Object(a.useState)(0),s=Object(f.a)(o,2),u=s[0],d=s[1],m=Object(a.useState)(3),p=Object(f.a)(m,1)[0],h=u+p,g=h-p,E=[],w=1;w<=Math.ceil(t/n);w++)E.push(w);var y=E.slice(g,h),j=function(e,n){n.preventDefault(),1===e?(c(e),d(e-1)):e>=E.length-(p-2)?(c(e),d(E.length-p)):(c(e),d(e-2))},k=function(e,n){n.preventDefault(),"up"===e?(j(l+1,n),i(l+1)):(i(l+1),j(l-1,n))};return Object(a.useEffect)((function(){E.length&&document.querySelectorAll(".pagination-button").forEach((function(e,n){e.classList.remove("active"),l===parseInt(e.innerHTML)&&e.classList.add("active")}))}),[l,E]),r.a.createElement(x,null,E.length>1?r.a.createElement("ul",null,l>1?r.a.createElement("li",null,r.a.createElement("button",{className:"switch",onClick:function(e){return k("down",e)}},r.a.createElement(v.a,{icon:b.a}))):null,l>2?r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){return j(1,e)}},1)," ..."," "):null,y.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement("button",{className:"pagination-button",onClick:function(n){return j(e,n)}},e))})),l<=E.length-(p-1)?r.a.createElement("li",null," ","..."," ",r.a.createElement("button",{onClick:function(e){return j(E.length,e)}},E.length)):null,l!==E.length?r.a.createElement("li",null,r.a.createElement("button",{className:"switch",onClick:function(e){return k("up",e)}},r.a.createElement(v.a,{icon:b.b}))):null):null)};function y(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  background-color: #fff;\n  border-top: 1px solid #666;\n\n  &:nth-last-child(1) {\n    border-bottom: 1px solid #666;\n  }\n\n  &:nth-child(odd) {\n    background-color: #f3f3f3;\n  }\n\n  div.id {\n    width: 13%;\n    @media only screen and (min-width: 1024px) {\n      width: 6%;\n    }\n  }\n  div.name {\n    width: 15%;\n    @media only screen and (min-width: 1024px) {\n      width: 22%;\n    }\n  }\n\n  div {\n    width: 18%;\n    padding: 10px 5px;\n    text-align: center;\n    word-break: break-word;\n    border-left: 1px solid #666;\n    &:nth-last-child(1) {\n      border-right: 1px solid #666;\n    }\n\n    &.header {\n      display: flex;\n      font-weight: bold;\n      word-break: keep-all;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      p {\n        font-size: 12px;\n        pointer-events: none;\n        @media only screen and (min-width: 1024px) {\n          font-size: 16px;\n        }\n        @media only screen and (min-width: 1366px) {\n          font-size: 20px;\n        }\n      }\n\n      span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-direction: column;\n        pointer-events: none;\n        opacity: 0;\n        &.active-up {\n          opacity: 1;\n          svg:nth-child(1) {\n            color: #000;\n          }\n          svg:nth-child(2) {\n            color: #bbb;\n          }\n        }\n        &.active-down {\n          opacity: 1;\n          svg:nth-child(2) {\n            color: #000;\n          }\n          svg:nth-child(1) {\n            color: #bbb;\n          }\n        }\n        svg {\n          margin: -6px 4px;\n          color: #bbb;\n        }\n      }\n    }\n\n    &.stats {\n      p {\n        font-size: 10px;\n        @media only screen and (min-width: 1024px) {\n          font-size: 12px;\n        }\n        @media only screen and (min-width: 1366px) {\n          font-size: 14px;\n        }\n\n        &.name {\n          font-weight: bold;\n        }\n      }\n    }\n  }\n"]);return y=function(){return e},e}function j(){var e=Object(i.a)(["\n  display: flex;\n  margin: 0 auto;\n  flex-direction: column;\n  box-shadow: 0px 2px 10px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n  min-width: 360px;\n  max-width: 1240px;\n  @media only screen and (min-width: 1024px) {\n    width: 98%;\n  }\n  @media only screen and (min-width: 1366px) {\n    width: 80%;\n  }\n"]);return j=function(){return e},e}function k(){var e=Object(i.a)(["\n  overflow: auto;\n  padding: 10px 0;\n"]);return k=function(){return e},e}var O=o.a.div(k()),C=o.a.ul(j()),S=o.a.li(y()),N=function(e){var n=e.posts,t=Object(a.useContext)(h).sortMergedData,c=n.map((function(e){return r.a.createElement(S,{key:e.id},r.a.createElement("div",{className:"stats id"},r.a.createElement("p",{className:"id data-text"},e.id)),r.a.createElement("div",{className:"stats name"},r.a.createElement("p",{className:"name data-text"},e.name)),r.a.createElement("div",{className:"stats company"},r.a.createElement("p",{className:"company data-text"},e.city)),r.a.createElement("div",{className:"stats total"},r.a.createElement("p",{className:"total data-text"},e.totalIncome)),r.a.createElement("div",{className:"stats average"},r.a.createElement("p",{className:"average data-text"},e.average)),r.a.createElement("div",{className:"stats lastmonth"},r.a.createElement("p",{className:"lastmonth data-text"},e.lastMonth)))})),l=function(e){e.target.querySelector("span").classList.contains("active-down")?(document.querySelectorAll("div.header span").forEach((function(e){return e.classList.remove("active-down")})),e.target.querySelector("span").classList.add("active-up")):(document.querySelectorAll("div.header span").forEach((function(e){return e.classList.remove("active-up","active-down")})),e.target.querySelector("span").classList.add("active-down")),e.target.classList.toggle("ASC"),e.target.classList.contains("ASC")?t("".concat(e.target.id,"_ASC")):t("".concat(e.target.id,"_DESC"))};return r.a.createElement(O,null,r.a.createElement(C,null,r.a.createElement(S,{className:"headers"},r.a.createElement("div",{className:"id header",id:"ID",onClick:function(e){return l(e)}},r.a.createElement("p",null,"ID"),r.a.createElement("span",{className:"sorting-icons"},r.a.createElement(v.a,{icon:b.f}),r.a.createElement(v.a,{icon:b.e}))),r.a.createElement("div",{className:"name header",id:"NAME",onClick:function(e){return l(e)}},r.a.createElement("p",null,"Name"),r.a.createElement("span",{className:"sorting-icons"},r.a.createElement(v.a,{icon:b.f}),r.a.createElement(v.a,{icon:b.e}))),r.a.createElement("div",{className:"city header",id:"CITY",onClick:function(e){return l(e)}},r.a.createElement("p",null,"City"),r.a.createElement("span",{className:"sorting-icons"},r.a.createElement(v.a,{icon:b.f}),r.a.createElement(v.a,{icon:b.e}))),r.a.createElement("div",{className:"total header",id:"TOTAL",onClick:function(e){return l(e)}},r.a.createElement("p",null,"Total Income"),r.a.createElement("span",{className:"sorting-icons"},r.a.createElement(v.a,{icon:b.f}),r.a.createElement(v.a,{icon:b.e}))),r.a.createElement("div",{className:"average header",id:"AVERAGE",onClick:function(e){return l(e)}},r.a.createElement("p",null,"Average Income"),r.a.createElement("span",{className:"sorting-icons"},r.a.createElement(v.a,{icon:b.f}),r.a.createElement(v.a,{icon:b.e}))),r.a.createElement("div",{className:"last header",id:"LAST",onClick:function(e){return l(e)}},r.a.createElement("p",null,"Last Month Income"),r.a.createElement("span",{className:"sorting-icons"},r.a.createElement(v.a,{icon:b.f}),r.a.createElement(v.a,{icon:b.e})))),c))};function A(){var e=Object(i.a)(["\n  display: inline;\n  border: 1px solid black;\n  background-color: #fff;\n  span {\n    color: #757575;\n    margin: 0 10px;\n  }\n  input {\n    border: none;\n    color: #757575;\n    outline: none;\n    padding: 5px 0;\n    &:focus {\n      border: none;\n    }\n  }\n"]);return A=function(){return e},e}function D(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10px 0;\n"]);return D=function(){return e},e}var F=o.a.div(D()),L=o.a.div(A()),M=function(){var e=Object(a.useContext)(h).displayDataViaSerchedPhrase;return r.a.createElement(F,null,r.a.createElement(L,null,r.a.createElement("span",null,r.a.createElement(v.a,{icon:b.d})),r.a.createElement("input",{type:"text",placeholder:"Search",onChange:function(n){return function(n){e(n.target.value)}(n)}})))};function I(){var e=Object(i.a)(["\n  margin-top: 100px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  .lds-ellipsis {\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n  }\n  .lds-ellipsis div {\n    position: absolute;\n    top: 33px;\n    width: 13px;\n    height: 13px;\n    border-radius: 50%;\n    background: #000;\n    animation-timing-function: cubic-bezier(0, 1, 1, 0);\n  }\n  .lds-ellipsis div:nth-child(1) {\n    left: 8px;\n    animation: lds-ellipsis1 0.6s infinite;\n  }\n  .lds-ellipsis div:nth-child(2) {\n    left: 8px;\n    animation: lds-ellipsis2 0.6s infinite;\n  }\n  .lds-ellipsis div:nth-child(3) {\n    left: 32px;\n    animation: lds-ellipsis2 0.6s infinite;\n  }\n  .lds-ellipsis div:nth-child(4) {\n    left: 56px;\n    animation: lds-ellipsis3 0.6s infinite;\n  }\n  @keyframes lds-ellipsis1 {\n    0% {\n      transform: scale(0);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n  @keyframes lds-ellipsis3 {\n    0% {\n      transform: scale(1);\n    }\n    100% {\n      transform: scale(0);\n    }\n  }\n  @keyframes lds-ellipsis2 {\n    0% {\n      transform: translate(0, 0);\n    }\n    100% {\n      transform: translate(24px, 0);\n    }\n  }\n"]);return I=function(){return e},e}var P=o.a.div(I()),T=function(){return r.a.createElement(P,null,r.a.createElement("h1",null,"Loading data"),r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},_=function(){var e=Object(a.useContext)(h),n=e.mergedData,t=e.searchedData,c=e.inputValue,l=Object(a.useState)(1),i=Object(f.a)(l,2),o=i[0],s=i[1],u=Object(a.useState)(10),d=Object(f.a)(u,1)[0],m=Object(a.useState)([]),p=Object(f.a)(m,2),g=p[0],v=p[1];Object(a.useEffect)((function(){if(t.length){var e=o*d,a=e-d;v(t.slice(a,e))}else{var r=o*d,c=r-d;v(n.slice(c,r))}}),[d,o,n,t]);return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(M,null):null,n.length>0?r.a.createElement(r.a.Fragment,null,0===t.length&&0!==c.length?r.a.createElement("h1",null,'Brak wynik\xf3w dla frazy "',c,'" '):r.a.createElement(N,{posts:g})):r.a.createElement(T,null),0===t.length&&0!==c.length?null:r.a.createElement(w,{companiesPerPage:d,totalPosts:t.length?t.length:n.length,paginate:function(e){return s(e)},currentPage:o,setCurrentPage:s}))};function z(){var e=Object(i.a)(["\n  width: 100%;\n  text-align: center;\n  margin: 20px 0;\n  @media only screen and (min-width: 1024px) {\n    font-size: 42px;\n  }\n"]);return z=function(){return e},e}var V=o.a.h1(z()),q=function(){return r.a.createElement(g,null,r.a.createElement("div",{className:"App"},r.a.createElement(V,null,"Stats of Companies ",r.a.createElement(v.a,{icon:b.c})),r.a.createElement(_,null)))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6e191d57.chunk.js.map